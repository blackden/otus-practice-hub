# Ansible

## Задания

### 1. Создание пользователей и управление их ключами SSH

Описание задания:

Вы администратор, и вам нужно автоматизировать процесс создания пользователей на серверах с предоставлением SSH-ключей для каждого пользователя. Создайте плейбук Ansible, который:

- Добавляет новых пользователей на сервер.
- Генерирует директории ~/.ssh для каждого пользователя.
- Копирует заранее созданные публичные ключи в файл authorized_keys.
- Назначает правильные права на файлы и папки.

Подсказка для слушателей

Используйте модули:

- user
- file
- copy

---

### 2. Настройка веб-сервера с поддержкой HTTPS

Описание задания:

Создайте плейбук Ansible, который:

- Устанавливает и настраивает Apache или Nginx на сервере.
- Генерирует самоподписанный SSL-сертификат.
- Настраивает HTTPS-соединение.

Подсказка для слушателей:

- Используйте модуль openssl_certificate для создания сертификатов.
- Настройку конфигурации HTTPS выполняйте через template для лучшей гибкости.

---

### 3. Автоматизация проверки состояния сервера

Описание задания:

Создайте плейбук Ansible, который:

- Проверяет, что на сервере запущены определённые службы (например, nginx, ssh).
- Проверяет свободное место на диске (используйте модуль ansible.builtin.setup или ansible.builtin.command с командами проверки через Ansible).
- Если служба не запущена, запускает её.

Подсказка для слушателей:

- Используйте модули service, ansible.builtin.setup и assert для проверки условий.
